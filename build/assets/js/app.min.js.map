{"version":3,"sources":["main.js","vendors/example.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3JA","file":"app.min.js","sourcesContent":["var url = 'http://newsapi.org/v2/top-headlines?' +\n          'country=us&' +\n          'apiKey=9e56665dd12747d699700625112fe619';\nvar req = new Request(url);\nfetch(req)\n// fetch('articles.json') //for offline use\n\t.then(response => response.json())\n\t.then(data => {\n\t\tconsole.log(data);\n\t\tappendData(data);\n\t})\n\t.catch(error => {\n\t\tconsole.log(error);\n\t});\n\nfunction appendData(data) {\n\tconst mainContainer = document.getElementById(\"list\");\n\tconst pageContainer = document.getElementById('pagination');\n\tconst search = document.getElementById('search');\n\tconst rows = 5;\n\tconst newsItems = data.articles;\n\n\tsearch.addEventListener('keyup', (e) => {\n\t\tconst searchString = e.target.value.toLowerCase();\n\t\tdocument.body.scrollTop = 0; // For Safari\n\t\tdocument.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n\t\tlet search_page = 1;\n\t\tconst filteredNews = newsItems.filter((qry) => {\n\t\t\treturn (\n\t\t\t\tqry.title.toLowerCase().includes(searchString) \n\t\t\t);\n\t\t});\n\t\t// displayCharacters(filteredNews);\n\t\tif (filteredNews.length > 0) {\n\t\t\tconsole.log(filteredNews);\n\n\t\t\tfunction searchResults(page) {\n\t\t\t\tmainContainer.innerHTML = \"\";\n\t\t\t\tpage--;\n\t\t\t\tlet start = rows * page;\n\t\t\t\tlet end = start + rows;\n\t\t\t\tconsole.log('# of news' + filteredNews.length);\n\t\t\t\tlet pageNews = filteredNews.slice(start,end);\n\t\t\t\tconsole.log(Array.isArray(filteredNews));\n\t\t\n\t\t\t\tfor (let i = 0; i < pageNews.length; i++) {\n\t\t\t\t\tlet newsCard = pageNews[i];\n\t\t\t\t\tlet card = document.createElement(\"div\");\n\t\t\t\t\tcard.classList.add('item');\n\t\t\n\t\t\t\t\tif (newsCard.author == \"\") {\n\t\t\t\t\t\tawtor = \"\";\n\t\t\t\t\t} else { awtor = `<div class=\"author\">By ` + newsCard.author + `</div>`; }\n\t\t\n\t\t\t\t\tcard.innerHTML = `\n\t\t\t\t\t\t<div style=\"background-image: url(` + newsCard.urlToImage + `);\" class=\"newsimg\">\n\t\t\t\t\t\t\t<div class=\"source\">` + newsCard.source.name + `</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"info\">\n\t\t\t\t\t\t\t<h1>` + newsCard.title + `</h1>\n\t\t\t\t\t\t\t<p>` + newsCard.description + `</p>\n\t\t\t\t\t\t\t` + awtor + `\n\t\t\t\t\t\t</div>`;\n\t\t\t\t\tmainContainer.appendChild(card);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfunction searchPagination() {\n\t\t\t\tpageContainer.innerHTML = \"\";\n\t\t\t\tconst pages = document.getElementById(\"pagination\");\n\t\t\t\tlet pageCount = Math.ceil(filteredNews.length / rows);\n\t\t\t\tconsole.log(pageCount);\n\t\t\t\tfor (let x = 1; x < (pageCount + 1); x++) {\n\t\t\t\t\tlet btn = pageButton(x, filteredNews);\n\t\t\t\t\tpages.appendChild(btn);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// let current_page = 1;\n\t\t\tsearchResults(search_page);\n\t\t\tsearchPagination();\n\t\t} else {\n\t\t\tconsole.log('none');\n\t\t}\n\t});\n\n\tfunction displayNews(page) {\n\t\tmainContainer.innerHTML = \"\";\n\t\tpage--;\n\t\tlet start = rows * page;\n\t\tlet end = start + rows;\n\n\t\tlet pageNews = newsItems.slice(start,end);\n\t\tconsole.log(pageNews);\n\n\t\tfor (let i = 0; i < rows; i++) {\n\t\t\tlet newsCard = pageNews[i];\n\t\t\tlet card = document.createElement(\"div\");\n\t\t\tcard.classList.add('item');\n\n\t\t\tif (newsCard.author == \"\") {\n\t\t\t\tawtor = \"\";\n\t\t\t} else { awtor = `<div class=\"author\">By ` + newsCard.author + `</div>`; }\n\n\t\t\tcard.innerHTML = `\n\t\t\t\t<div style=\"background-image: url(` + newsCard.urlToImage + `);\" class=\"newsimg\">\n\t\t\t\t\t<div class=\"source\">` + newsCard.source.name + `</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"info\">\n\t\t\t\t\t<h1>` + newsCard.title + `</h1>\n\t\t\t\t\t<p>` + newsCard.description + `</p>\n\t\t\t\t\t` + awtor + `\n\t\t\t\t</div>`;\n\t\t\tmainContainer.appendChild(card);\n\t\t}\n\t}\n\n\tfunction pagination() {\n\t\tpageContainer.innerHTML = \"\";\n\t\tconst pages = document.getElementById(\"pagination\");\n\t\tlet pageCount = Math.ceil(newsItems.length / rows);\n\t\tconsole.log(pageCount);\n\t\tfor (let x = 1; x < (pageCount + 1); x++) {\n\t\t\tlet btn = pageButton(x, newsItems);\n\t\t\tpages.appendChild(btn);\n\t\t}\n\t}\n\n\tfunction pageButton (page) {\n\t\tlet button = document.createElement('button');\n\t\tbutton.innerText = page;\n\n\t\tif (current_page == page) {\n\t\t\tbutton.classList.add('active');\n\t\t}\n\n\t\tbutton.addEventListener('click', function() {\n\t\t\tdocument.body.scrollTop = 0; // For Safari\n\t\t\tdocument.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n\n\t\t\tcurrent_page = page;\n\t\t\tdisplayNews(current_page);\n\n\t\t\tlet currentBtn = document.querySelector('.pagenumbers button.active');\n\t\t\tcurrentBtn.classList.remove('active');\n\n\t\t\tbutton.classList.add('active');\n\t\t});\n\t\treturn button;\n\t}\n\n\tlet current_page = 1;\n\tdisplayNews(current_page);\n\tpagination();\n}\n\n",""]}